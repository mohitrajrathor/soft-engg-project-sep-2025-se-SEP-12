openapi: 3.0.3
info:
  title: AURA
  description: "\n## AURA - Academic Unified Response Assistant\n\nA comprehensive\
    \ educational platform API supporting:\n- **Multi-role authentication** (Students,\
    \ TAs, Instructors, Admins)\n- **Query/Doubt management** system\n- **Resource\
    \ sharing** and management\n- **Announcements** and notifications\n- **User profiles**\
    \ with statistics\n- **Role-based access control** (RBAC)\n\n### Authentication\n\
    \nMost endpoints require authentication using JWT Bearer tokens.\n\n**How to authenticate:**\n\
    1. Register: `POST /api/auth/signup`\n2. Login: `POST /api/auth/login`\n3. Use\
    \ the `access_token` in Authorization header: `Bearer <token>`\n\n### User Roles\n\
    \n- **student**: Regular students - can post queries, view resources\n- **ta**:\
    \ Teaching assistants - can respond to queries, manage resources\n- **instructor**:\
    \ Course instructors - full course management\n- **admin**: System administrators\
    \ - full system access\n\n### Features\n\n#### \U0001F510 Authentication & Authorization\n\
    - JWT-based authentication with refresh tokens\n- Role-based access control\n\
    - Secure password hashing with Argon2\n\n#### \u2753 Query Management\n- Students\
    \ can post doubts/questions\n- TAs/Instructors can respond and resolve queries\n\
    - Priority levels and status tracking\n- Query analytics and statistics\n\n####\
    \ \U0001F4DA Resource Management\n- Upload and share educational materials\n-\
    \ Multiple resource types (videos, PDFs, links, etc.)\n- Access control (public,\
    \ course-specific, private)\n- Download and view tracking\n\n#### \U0001F4E2 Announcements\n\
    - Institution-wide and course-specific announcements\n- Target specific user roles\n\
    - Urgent/deadline notifications\n- Pin important announcements\n\n#### \U0001F464\
    \ User Profiles\n- Extended user information\n- Academic details and interests\n\
    - Activity statistics\n- Reputation scoring\n\n### Rate Limiting\n\nAPI rate limit:\
    \ 60 requests per minute per user (configurable)\n\n### Support\n\nFor issues\
    \ or questions, please contact the development team.\n\n---\n**Version:** 1.0.0\n\
    **Environment:** Development\n"
  contact:
    name: AURA Development Team
    email: support@aura.edu
  license:
    name: MIT License
  version: 1.0.0
paths:
  /api/auth/signup:
    post:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - Content-Recommender
      - TA-Doubt-Summarizer
      - Query-Escalation
      - Admin-Analytics
      - Discourse-Integration
      - Onboarding-Mentor
      - Assessment-Generator
      - Slide-Deck-Generator
      summary: Register a new user
      description: "Register a new user account with email and password.\n\n    **Authentication:**\
        \ Not required (public endpoint)\n\n    **Process:**\n    1. Validates email\
        \ format and password strength\n    2. Checks if email is already registered\n\
        \    3. Creates user account with hashed password\n    4. Creates empty user\
        \ profile\n    5. Generates JWT access and refresh tokens\n    6. Returns\
        \ tokens and user information\n\n    **Password Requirements:**\n    - Minimum\
        \ 8 characters\n    - Recommended: Mix of uppercase, lowercase, numbers, special\
        \ characters\n\n    **Roles:**\n    - student (default)\n    - ta (teaching\
        \ assistant)\n    - instructor\n    - admin (requires manual approval or separate\
        \ admin creation endpoint)"
      operationId: signup_api_auth_signup_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreate'
        required: true
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponse'
              example:
                access_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                token_type: bearer
                expires_in: 3600
                user:
                  id: 1
                  email: student@example.com
                  role: student
                  full_name: John Doe
                  is_active: true
                  created_at: '2025-01-15T10:30:00Z'
        '400':
          description: Email already registered or invalid input
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/auth/login:
    post:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - Content-Recommender
      - TA-Doubt-Summarizer
      - Query-Escalation
      - Admin-Analytics
      - Discourse-Integration
      - Onboarding-Mentor
      - Assessment-Generator
      - Slide-Deck-Generator
      summary: Login and obtain tokens
      description: "Authenticate user and obtain JWT access and refresh tokens.\n\n\
        \    **Authentication:** Not required (public endpoint)\n\n    **Process:**\n\
        \    1. Validates email and password\n    2. Checks if account is active\n\
        \    3. Generates JWT access token (expires in 60 minutes)\n    4. Generates\
        \ JWT refresh token (expires in 7 days)\n    5. Returns tokens and user information\n\
        \n    **Token Usage:**\n    - Access Token: Use for API authentication (include\
        \ in Authorization header)\n    - Refresh Token: Use to obtain new access\
        \ tokens without re-login\n\n    **Example Request:**\n    ```bash\n    curl\
        \ -X POST http://localhost:8000/api/auth/login \\\n      -H \"Content-Type:\
        \ application/json\" \\\n      -d '{\"email\": \"student@example.com\", \"\
        password\": \"SecurePass123\"}'\n    ```\n\n    **Example Authorization Header:**\n\
        \    ```\n    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n\
        \    ```"
      operationId: login_api_auth_login_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLogin'
        required: true
      responses:
        '200':
          description: Login successful, tokens returned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponse'
        '401':
          description: Invalid email or password
        '403':
          description: Account is inactive
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/auth/refresh:
    post:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - Content-Recommender
      - TA-Doubt-Summarizer
      - Query-Escalation
      - Admin-Analytics
      - Discourse-Integration
      - Onboarding-Mentor
      - Assessment-Generator
      - Slide-Deck-Generator
      summary: Refresh access token
      description: "Obtain a new access token using a refresh token.\n\n    **Authentication:**\
        \ Requires valid refresh token\n\n    **Process:**\n    1. Validates refresh\
        \ token\n    2. Checks if user still exists and is active\n    3. Generates\
        \ new access token\n    4. Generates new refresh token (token rotation)\n\
        \    5. Returns new tokens\n\n    **Token Rotation:**\n    For security, a\
        \ new refresh token is issued with each refresh request.\n    The old refresh\
        \ token should be discarded.\n\n    **Example Request:**\n    ```bash\n  \
        \  curl -X POST http://localhost:8000/api/auth/refresh \\\n      -H \"Content-Type:\
        \ application/json\" \\\n      -d '{\"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\
        }'\n    ```"
      operationId: refresh_token_api_auth_refresh_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
        required: true
      responses:
        '200':
          description: New tokens generated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponse'
        '401':
          description: Invalid or expired refresh token
        '403':
          description: User account inactive
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/auth/me:
    get:
      tags: &id001
      - Query-Escalation
      summary: Get current user profile
      description: "Retrieve the currently authenticated user's profile information.\n\
        \n    **Authentication:** Required (Bearer token)\n\n    **Returns:**\n  \
        \  - User ID\n    - Email address\n    - Role\n    - Full name\n    - Account\
        \ status\n    - Creation date\n\n    **Example Request:**\n    ```bash\n \
        \   curl -X GET http://localhost:8000/api/auth/me \\\n      -H \"Authorization:\
        \ Bearer YOUR_ACCESS_TOKEN\"\n    ```"
      operationId: get_current_user_profile_api_auth_me_get
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '401':
          description: Not authenticated or invalid token
      security:
      - HTTPBearer: []
    put:
      tags: *id001
      summary: Update current user profile
      description: "Update the currently authenticated user's profile information.\n\
        \n    **Authentication:** Required (Bearer token)\n\n    **Updatable Fields:**\n\
        \    - Full name\n    - Email address (must be unique)\n    - Password (requires\
        \ current password for verification)\n\n    **Password Change:**\n    To change\
        \ password, provide both `current_password` and `new_password`.\n\n    **Example\
        \ Request:**\n    ```bash\n    curl -X PUT http://localhost:8000/api/auth/me\
        \ \\\n      -H \"Authorization: Bearer YOUR_ACCESS_TOKEN\" \\\n      -H \"\
        Content-Type: application/json\" \\\n      -d '{\"full_name\": \"Jane Doe\"\
        , \"email\": \"newemail@example.com\"}'\n    ```"
      operationId: update_current_user_profile_api_auth_me_put
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdate'
        required: true
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          description: Invalid input or email already exists
        '401':
          description: Not authenticated or incorrect current password
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - HTTPBearer: []
  /api/ai/chatbot/chatbot/chat:
    post:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - Content-Recommender
      - TA-Doubt-Summarizer
      - Discourse-Integration
      - Onboarding-Mentor
      summary: Chat with AI assistant
      description: "Send a message to the AI chatbot and get a response.\n\n    **Features:**\n\
        \    - Conversation memory (maintains context)\n    - Multiple chat modes\
        \ (academic, general, study help, doubt clarification)\n    - Powered by Google\
        \ Gemini AI\n\n    **Example:**\n    ```json\n    {\n      \"message\": \"\
        Explain binary search algorithm\",\n      \"mode\": \"academic\",\n      \"\
        conversation_id\": \"conv-abc123\"\n    }\n    ```"
      operationId: chat_api_ai_chatbot_chatbot_chat_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - HTTPBearer: []
  /api/ai/chatbot/chatbot/chat/stream:
    post:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - TA-Doubt-Summarizer
      - Discourse-Integration
      summary: Stream chat response
      description: "Send a message and get a streaming response (real-time).\n\n \
        \   **Features:**\n    - Real-time streaming responses\n    - See AI typing\
        \ in real-time\n    - Better UX for long responses\n\n    **Response:** Server-Sent\
        \ Events (SSE) stream"
      operationId: chat_stream_api_ai_chatbot_chatbot_chat_stream_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - HTTPBearer: []
  /api/ai/chatbot/chatbot/conversation/{conversation_id}:
    delete:
      tags:
      - RAG-Assistant
      - Onboarding-Mentor
      summary: Clear conversation history
      description: Delete conversation history for a specific conversation ID.
      operationId: clear_conversation_api_ai_chatbot_chatbot_conversation__conversation_id__delete
      security:
      - HTTPBearer: []
      parameters:
      - name: conversation_id
        in: path
        required: true
        schema:
          type: string
          title: Conversation Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/ai/chatbot/chatbot/conversation/{conversation_id}/history:
    get:
      tags:
      - RAG-Assistant
      - Onboarding-Mentor
      summary: Get conversation history
      description: Retrieve the message history for a conversation.
      operationId: get_conversation_history_api_ai_chatbot_chatbot_conversation__conversation_id__history_get
      security:
      - HTTPBearer: []
      parameters:
      - name: conversation_id
        in: path
        required: true
        schema:
          type: string
          title: Conversation Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/ai/chatbot/chatbot/status:
    get:
      tags:
      - RAG-Assistant
      - Smart-Study-Assistant
      - Content-Recommender
      - TA-Doubt-Summarizer
      - Discourse-Integration
      - Onboarding-Mentor
      summary: Get chatbot status
      description: Check if chatbot is configured and ready.
      operationId: get_chatbot_status_api_ai_chatbot_chatbot_status_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /api/ai/chatbot/chatbot/metrics:
    get:
      tags:
      - Admin-Analytics
      summary: Get chatbot metrics
      description: Get observability metrics (agent invocations, LLM requests, etc.)
      operationId: get_chatbot_metrics_api_ai_chatbot_chatbot_metrics_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
      security:
      - HTTPBearer: []
  /api/ai/chatbot/chatbot/conversation/{conversation_id}/state:
    get:
      tags:
      - RAG-Assistant
      - Onboarding-Mentor
      summary: Get conversation session state
      description: Retrieve the session state for a conversation (user context, preferences,
        etc.)
      operationId: get_conversation_state_api_ai_chatbot_chatbot_conversation__conversation_id__state_get
      security:
      - HTTPBearer: []
      parameters:
      - name: conversation_id
        in: path
        required: true
        schema:
          type: string
          title: Conversation Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/courses/:
    get:
      tags: &id002
      - Smart-Study-Assistant
      - Content-Recommender
      - Admin-Analytics
      - Onboarding-Mentor
      summary: List all available courses
      description: Retrieve a list of all available courses. Accessible by any authenticated
        user.
      operationId: get_all_courses_api_courses__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/CourseResponse'
                type: array
                title: Response Get All Courses Api Courses  Get
      security:
      - HTTPBearer: []
    post:
      tags: *id002
      summary: Create a new course (Admin only)
      description: Create a new course in the database. Only accessible by administrators.
      operationId: create_course_api_courses__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseCreate'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - HTTPBearer: []
  /api/courses/{course_id}:
    get:
      tags: &id003
      - Smart-Study-Assistant
      - Content-Recommender
      - Admin-Analytics
      - Onboarding-Mentor
      summary: Get a course by ID
      description: Retrieve the details of a specific course by its ID.
      operationId: get_course_by_id_api_courses__course_id__get
      security:
      - HTTPBearer: []
      parameters:
      - name: course_id
        in: path
        required: true
        schema:
          type: integer
          title: Course Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags: *id003
      summary: Update a course (Admin only)
      description: Update an existing course's details. Only accessible by administrators.
      operationId: update_course_api_courses__course_id__put
      security:
      - HTTPBearer: []
      parameters:
      - name: course_id
        in: path
        required: true
        schema:
          type: integer
          title: Course Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags: *id003
      summary: Delete a course (Admin only)
      description: Delete a course from the database. Only accessible by administrators.
      operationId: delete_course_api_courses__course_id__delete
      security:
      - HTTPBearer: []
      parameters:
      - name: course_id
        in: path
        required: true
        schema:
          type: integer
          title: Course Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/tags/:
    post:
      tags: &id004
      - Content-Recommender
      - Admin-Analytics
      summary: Create a new tag (TA/Admin only)
      description: Create a new tag. Accessible by TAs, Instructors, and Admins.
      operationId: create_tag_api_tags__post
      security:
      - HTTPBearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags: *id004
      summary: List all tags or search by name
      description: 'Retrieve a list of all tags. Supports searching by name.

        Accessible by any authenticated user.'
      operationId: get_all_tags_api_tags__get
      security:
      - HTTPBearer: []
      parameters:
      - name: search
        in: query
        required: false
        schema:
          description: Search for tags by name (case-insensitive).
          title: Search
          type: string
          nullable: true
        description: Search for tags by name (case-insensitive).
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagResponse'
                title: Response Get All Tags Api Tags  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/tags/{tag_id}:
    get:
      tags: &id005
      - Content-Recommender
      - Admin-Analytics
      summary: Get a tag by ID
      description: Retrieve the details of a specific tag by its ID.
      operationId: get_tag_by_id_api_tags__tag_id__get
      security:
      - HTTPBearer: []
      parameters:
      - name: tag_id
        in: path
        required: true
        schema:
          type: integer
          title: Tag Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags: *id005
      summary: Update a tag (TA/Admin only)
      description: Update an existing tag's name. Accessible by TAs, Instructors,
        and Admins.
      operationId: update_tag_api_tags__tag_id__put
      security:
      - HTTPBearer: []
      parameters:
      - name: tag_id
        in: path
        required: true
        schema:
          type: integer
          title: Tag Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags: *id005
      summary: Delete a tag (TA/Admin only)
      description: Delete a tag from the database. Accessible by TAs, Instructors,
        and Admins.
      operationId: delete_tag_api_tags__tag_id__delete
      security:
      - HTTPBearer: []
      parameters:
      - name: tag_id
        in: path
        required: true
        schema:
          type: integer
          title: Tag Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/quizzes/generate:
    post:
      tags:
      - Assessment-Generator
      summary: Generate a new quiz (TA/Admin only)
      description: Generates a new quiz using the AI service and saves it to the database.
      operationId: generate_and_save_quiz_api_quizzes_generate_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuizGenerationRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - HTTPBearer: []
  /api/quizzes/{quiz_id}:
    put:
      tags: &id006
      - Assessment-Generator
      summary: Update an existing quiz (Creator only)
      description: Updates an existing quiz using AI-powered feedback. Only the original
        creator can update it.
      operationId: update_existing_quiz_api_quizzes__quiz_id__put
      security:
      - HTTPBearer: []
      parameters:
      - name: quiz_id
        in: path
        required: true
        schema:
          type: integer
          title: Quiz Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuizUpdateRequest'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags: *id006
      summary: Get a single quiz
      operationId: get_quiz_api_quizzes__quiz_id__get
      security:
      - HTTPBearer: []
      parameters:
      - name: quiz_id
        in: path
        required: true
        schema:
          type: integer
          title: Quiz Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags: *id006
      summary: Delete a quiz (Creator only)
      operationId: delete_quiz_api_quizzes__quiz_id__delete
      security:
      - HTTPBearer: []
      parameters:
      - name: quiz_id
        in: path
        required: true
        schema:
          type: integer
          title: Quiz Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/quizzes/:
    get:
      tags:
      - Assessment-Generator
      summary: List all quizzes
      description: Retrieves a list of all available quizzes, with optional search
        and filtering.
      operationId: get_all_quizzes_api_quizzes__get
      security:
      - HTTPBearer: []
      parameters:
      - name: search
        in: query
        required: false
        schema:
          description: Search quizzes by title.
          title: Search
          type: string
          nullable: true
        description: Search quizzes by title.
      - name: course_id
        in: query
        required: false
        schema:
          description: Filter quizzes by course ID.
          title: Course Id
          type: integer
          nullable: true
        description: Filter quizzes by course ID.
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuizResponse'
                title: Response Get All Quizzes Api Quizzes  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/quizzes/{quiz_id}/attempt:
    post:
      tags:
      - Assessment-Generator
      summary: Submit an attempt for a quiz
      description: Allows a user to submit their answers for a quiz. The score is
        calculated and stored.
      operationId: submit_quiz_attempt_api_quizzes__quiz_id__attempt_post
      security:
      - HTTPBearer: []
      parameters:
      - name: quiz_id
        in: path
        required: true
        schema:
          type: integer
          title: Quiz Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuizAttemptRequest'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizAttemptResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/slide-decks/:
    post:
      tags: &id007
      - Slide-Deck-Generator
      - Smart-Study-Assistant
      - Onboarding-Mentor
      summary: Generate a new slide deck (TA/Instructor only)
      description: 'Generates a new slide deck using the AI service based on specified
        topics

        and saves it to the database.'
      operationId: generate_slide_deck_api_slide_decks__post
      security:
      - HTTPBearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlideDeckGenerationRequest'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlideDeckResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags: *id007
      summary: List all slide decks
      description: Retrieves a list of all available slide decks, accessible to any
        authenticated user.
      operationId: get_all_slide_decks_api_slide_decks__get
      security:
      - HTTPBearer: []
      parameters:
      - name: search
        in: query
        required: false
        schema:
          description: Search slide decks by title.
          title: Search
          type: string
          nullable: true
        description: Search slide decks by title.
      - name: course_id
        in: query
        required: false
        schema:
          description: Filter slide decks by course ID.
          title: Course Id
          type: integer
          nullable: true
        description: Filter slide decks by course ID.
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SlideDeckResponse'
                title: Response Get All Slide Decks Api Slide Decks  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/slide-decks/{deck_id}:
    get:
      tags: &id008
      - Slide-Deck-Generator
      - Onboarding-Mentor
      summary: Get a single slide deck
      description: Retrieves a single slide deck by its ID.
      operationId: get_slide_deck_api_slide_decks__deck_id__get
      security:
      - HTTPBearer: []
      parameters:
      - name: deck_id
        in: path
        required: true
        schema:
          type: integer
          title: Deck Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlideDeckResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags: *id008
      summary: Update a slide deck (Creator only)
      description: 'Updates a slide deck''s title, description, or slide content.

        Only the original creator can perform this action.'
      operationId: update_slide_deck_api_slide_decks__deck_id__put
      security:
      - HTTPBearer: []
      parameters:
      - name: deck_id
        in: path
        required: true
        schema:
          type: integer
          title: Deck Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlideDeckUpdateRequest'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlideDeckResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags: *id008
      summary: Delete a slide deck (Creator only)
      description: Deletes a slide deck. Only the original creator can perform this
        action.
      operationId: delete_slide_deck_api_slide_decks__deck_id__delete
      security:
      - HTTPBearer: []
      parameters:
      - name: deck_id
        in: path
        required: true
        schema:
          type: integer
          title: Deck Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /health:
    get:
      tags:
      - Admin-Analytics
      summary: Health check endpoint
      description: Check if the API is running and database is accessible.
      operationId: health_check_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /api:
    get:
      tags:
      - RAG-Assistant
      summary: API information
      description: Get API version and available endpoints.
      operationId: api_info_api_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
components:
  schemas:
    Answer:
      properties:
        question_index:
          type: integer
          title: Question Index
        selected_options:
          items:
            type: string
          type: array
          title: Selected Options
      type: object
      required:
      - question_index
      - selected_options
      title: Answer
      description: Represents a user's answer to a single question.
    ChatMode:
      type: string
      enum:
      - general
      - academic
      - doubt_clarification
      - study_help
      title: ChatMode
      description: Chat mode for different contexts.
    ChatRequest:
      properties:
        message:
          type: string
          maxLength: 5000
          minLength: 1
          title: Message
          description: User's message
        conversation_id:
          title: Conversation Id
          description: Conversation ID for maintaining history
          type: string
          nullable: true
        mode:
          $ref: '#/components/schemas/ChatMode'
          description: Chat mode
          default: general
        context:
          title: Context
          description: Additional context
          type: string
          maxLength: 1000
          nullable: true
      type: object
      required:
      - message
      title: ChatRequest
      description: "Schema for chat request.\n\nAttributes:\n    message: User's message\n\
        \    conversation_id: Optional conversation ID for history\n    mode: Chat\
        \ mode (general, academic, etc.)\n    context: Optional context for the conversation\n\
        \nExample:\n    {\n        \"message\": \"Explain recursion in Python\",\n\
        \        \"conversation_id\": \"conv-123\",\n        \"mode\": \"academic\"\
        ,\n        \"context\": \"I'm studying data structures\"\n    }"
    ChatResponse:
      properties:
        response:
          type: string
          title: Response
          description: AI assistant's response
        conversation_id:
          type: string
          title: Conversation Id
          description: Conversation ID
        sources:
          title: Sources
          description: Sources or references used
          default: []
          items:
            type: string
          type: array
          nullable: true
        tokens_used:
          title: Tokens Used
          description: Number of tokens used
          type: integer
          nullable: true
        model:
          type: string
          title: Model
          description: Model used
          default: gemini-pro
        timestamp:
          type: string
          format: date-time
          title: Timestamp
      type: object
      required:
      - response
      - conversation_id
      title: ChatResponse
      description: "Schema for chat response.\n\nAttributes:\n    response: AI assistant's\
        \ response\n    conversation_id: Conversation ID for tracking\n    sources:\
        \ Optional sources/references used\n    tokens_used: Number of tokens used\
        \ (for analytics)\n    model: Model used for generation\n    timestamp: Response\
        \ timestamp\n\nExample:\n    {\n        \"response\": \"Recursion is a programming\
        \ technique...\",\n        \"conversation_id\": \"conv-123\",\n        \"\
        sources\": [\"Python docs\", \"Course notes\"],\n        \"tokens_used\":\
        \ 150,\n        \"model\": \"gemini-pro\",\n        \"timestamp\": \"2025-01-15T10:30:05Z\"\
        \n    }"
    CourseCreate:
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 3
          title: Name
          example: Introduction to Machine Learning
        description:
          title: Description
          example: A foundational course on ML concepts.
          type: string
          nullable: true
      type: object
      required:
      - name
      title: CourseCreate
      description: Schema for creating a new course.
    CourseResponse:
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 3
          title: Name
          example: Introduction to Machine Learning
        description:
          title: Description
          example: A foundational course on ML concepts.
          type: string
          nullable: true
        id:
          type: integer
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        creator:
          $ref: '#/components/schemas/app__schemas__course_schema__UserSimpleResponse'
      type: object
      required:
      - name
      - id
      - created_at
      - creator
      title: CourseResponse
      description: Schema for a course response, including read-only fields.
    CourseUpdate:
      properties:
        name:
          title: Name
          example: Advanced Machine Learning
          type: string
          maxLength: 100
          minLength: 3
          nullable: true
        description:
          title: Description
          example: An in-depth course on advanced ML concepts.
          type: string
          nullable: true
      type: object
      title: CourseUpdate
      description: Schema for updating an existing course. All fields are optional.
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    QuizAttemptRequest:
      properties:
        answers:
          items:
            $ref: '#/components/schemas/Answer'
          type: array
          title: Answers
      type: object
      required:
      - answers
      title: QuizAttemptRequest
      description: Schema for submitting answers to a quiz.
    QuizAttemptResponse:
      properties:
        id:
          type: integer
          title: Id
        quiz_id:
          type: integer
          title: Quiz Id
        user:
          $ref: '#/components/schemas/UserResponse'
        score:
          type: integer
          title: Score
        total_marks:
          type: integer
          title: Total Marks
        submitted_answers:
          items:
            $ref: '#/components/schemas/Answer'
          type: array
          title: Submitted Answers
        attempted_at:
          type: string
          format: date-time
          title: Attempted At
      type: object
      required:
      - id
      - quiz_id
      - user
      - score
      - total_marks
      - submitted_answers
      - attempted_at
      title: QuizAttemptResponse
      description: Schema for returning the result of a quiz attempt.
    QuizGenerationRequest:
      properties:
        course_id:
          type: integer
          title: Course Id
          example: 1
        title:
          type: string
          maxLength: 100
          minLength: 5
          title: Title
          example: Python Basics Quiz
        description:
          title: Description
          example: A quiz covering fundamental Python concepts.
          type: string
          nullable: true
        topics:
          items:
            type: string
          type: array
          minItems: 1
          title: Topics
          example:
          - variables
          - data types
          - loops
        difficulty:
          type: string
          title: Difficulty
          default: Medium
          example: Easy
        marks_per_question:
          type: integer
          exclusiveMinimum: true
          title: Marks Per Question
          default: 5
          example: 5
          minimum: 0.0
        num_questions:
          type: integer
          maximum: 20.0
          exclusiveMinimum: true
          title: Num Questions
          default: 10
          example: 10
          minimum: 0.0
      type: object
      required:
      - course_id
      - title
      - topics
      title: QuizGenerationRequest
      description: Schema for requesting AI-powered quiz generation.
    QuizResponse:
      properties:
        id:
          type: integer
          title: Id
        title:
          type: string
          title: Title
        description:
          title: Description
          type: string
          nullable: true
        course_id:
          type: integer
          title: Course Id
        creator:
          $ref: '#/components/schemas/UserResponse'
        questions:
          additionalProperties: true
          type: object
          title: Questions
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          title: Updated At
          type: string
          format: date-time
          nullable: true
      type: object
      required:
      - id
      - title
      - description
      - course_id
      - creator
      - questions
      - created_at
      - updated_at
      title: QuizResponse
      description: Schema for a quiz response, including its questions.
    QuizUpdateRequest:
      properties:
        feedback:
          type: string
          title: Feedback
          example: Make question 3 harder and add a question about functions.
      type: object
      required:
      - feedback
      title: QuizUpdateRequest
      description: Schema for requesting an update to an existing quiz using AI.
    RefreshTokenRequest:
      properties:
        refresh_token:
          type: string
          title: Refresh Token
          description: Refresh token
      type: object
      required:
      - refresh_token
      title: RefreshTokenRequest
      description: "Schema for refresh token requests.\n\nAttributes:\n    refresh_token:\
        \ The refresh token to exchange for a new access token\n\nExample:\n    {\n\
        \        \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n\
        \    }"
    Slide:
      properties:
        title:
          type: string
          title: Title
          description: The title of the slide.
        content:
          type: string
          title: Content
          description: The markdown content of the slide.
      type: object
      required:
      - title
      - content
      title: Slide
      description: Represents a single slide with a title and markdown content.
    SlideDeckGenerationRequest:
      properties:
        title:
          type: string
          maxLength: 100
          minLength: 3
          title: Title
          description: Title of the slide deck.
        description:
          title: Description
          description: A brief description of the slide deck.
          type: string
          maxLength: 500
          nullable: true
        course_id:
          type: integer
          title: Course Id
          description: The ID of the course this deck belongs to.
        topics:
          items:
            type: string
          type: array
          title: Topics
          description: A list of topics to be covered in the slides.
        num_slides:
          type: integer
          maximum: 20.0
          exclusiveMinimum: true
          title: Num Slides
          description: Number of slides to generate.
          minimum: 0.0
      type: object
      required:
      - title
      - course_id
      - topics
      - num_slides
      title: SlideDeckGenerationRequest
      description: Schema for requesting AI-powered slide deck generation.
    SlideDeckResponse:
      properties:
        title:
          type: string
          maxLength: 100
          minLength: 3
          title: Title
          description: Title of the slide deck.
        description:
          title: Description
          description: A brief description of the slide deck.
          type: string
          maxLength: 500
          nullable: true
        id:
          type: integer
          title: Id
        course_id:
          type: integer
          title: Course Id
        slides:
          items:
            $ref: '#/components/schemas/Slide'
          type: array
          title: Slides
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          title: Updated At
          type: string
          format: date-time
          nullable: true
        creator:
          $ref: '#/components/schemas/app__schemas__user_schema__UserSimpleResponse'
      type: object
      required:
      - title
      - id
      - course_id
      - slides
      - created_at
      - creator
      title: SlideDeckResponse
      description: Schema for returning a slide deck in an API response.
    SlideDeckUpdateRequest:
      properties:
        title:
          title: Title
          type: string
          maxLength: 100
          minLength: 3
          nullable: true
        description:
          title: Description
          type: string
          maxLength: 500
          nullable: true
        slides:
          title: Slides
          description: The complete, updated list of slides.
          items:
            $ref: '#/components/schemas/Slide'
          type: array
          nullable: true
      type: object
      title: SlideDeckUpdateRequest
      description: Schema for updating an existing slide deck.
    TagCreate:
      properties:
        name:
          type: string
          maxLength: 50
          minLength: 2
          title: Name
          example: python
      type: object
      required:
      - name
      title: TagCreate
      description: Schema for creating a new tag.
    TagResponse:
      properties:
        name:
          type: string
          maxLength: 50
          minLength: 2
          title: Name
          example: python
        id:
          type: integer
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        creator:
          $ref: '#/components/schemas/app__schemas__tag_schema__UserSimpleResponse'
      type: object
      required:
      - name
      - id
      - created_at
      - creator
      title: TagResponse
      description: Schema for a tag response, including read-only fields.
    TagUpdate:
      properties:
        name:
          type: string
          maxLength: 50
          minLength: 2
          title: Name
          example: python
      type: object
      required:
      - name
      title: TagUpdate
      description: Schema for updating an existing tag.
    TokenResponse:
      properties:
        access_token:
          type: string
          title: Access Token
          description: JWT access token
        refresh_token:
          type: string
          title: Refresh Token
          description: JWT refresh token
        token_type:
          type: string
          title: Token Type
          description: Token type
          default: bearer
        expires_in:
          type: integer
          title: Expires In
          description: Token expiration in seconds
        user:
          $ref: '#/components/schemas/UserResponse'
      type: object
      required:
      - access_token
      - refresh_token
      - expires_in
      - user
      title: TokenResponse
      description: "Schema for JWT token response after successful authentication.\n\
        \nAttributes:\n    access_token: JWT access token for API authentication\n\
        \    refresh_token: JWT refresh token for obtaining new access tokens\n  \
        \  token_type: Token type (always \"bearer\")\n    expires_in: Token expiration\
        \ time in seconds\n    user: User information\n\nExample:\n    {\n       \
        \ \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n       \
        \ \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n      \
        \  \"token_type\": \"bearer\",\n        \"expires_in\": 3600,\n        \"\
        user\": {\n            \"id\": 1,\n            \"email\": \"student@example.com\"\
        ,\n            \"role\": \"student\"\n        }\n    }"
    UserCreate:
      properties:
        email:
          type: string
          format: email
          title: Email
          description: Valid email address
        password:
          type: string
          maxLength: 100
          minLength: 8
          title: Password
          description: Password with min 8 characters
        role:
          $ref: '#/components/schemas/UserRole'
          description: 'User role: student, ta, instructor, or admin'
          default: student
        full_name:
          title: Full Name
          description: User's full name
          type: string
          maxLength: 100
          minLength: 2
          nullable: true
      type: object
      required:
      - email
      - password
      title: UserCreate
      description: "Schema for user registration.\n\nAttributes:\n    email: Valid\
        \ email address (RFC 5322 compliant)\n    password: Password with minimum\
        \ 8 characters, must contain:\n              - At least one uppercase letter\n\
        \              - At least one lowercase letter\n              - At least one\
        \ digit\n    role: User role (student, ta, instructor, admin)\n    full_name:\
        \ User's full name (optional during registration)\n\nExample:\n    {\n   \
        \     \"email\": \"student@example.com\",\n        \"password\": \"SecurePass123\"\
        ,\n        \"role\": \"student\",\n        \"full_name\": \"John Doe\"\n \
        \   }"
    UserLogin:
      properties:
        email:
          type: string
          format: email
          title: Email
          description: Registered email address
        password:
          type: string
          title: Password
          description: User password
      type: object
      required:
      - email
      - password
      title: UserLogin
      description: "Schema for user authentication.\n\nAttributes:\n    email: Registered\
        \ email address\n    password: User's password\n\nExample:\n    {\n      \
        \  \"email\": \"student@example.com\",\n        \"password\": \"SecurePass123\"\
        \n    }"
    UserResponse:
      properties:
        id:
          type: integer
          title: Id
        email:
          type: string
          format: email
          title: Email
        role:
          $ref: '#/components/schemas/UserRole'
        full_name:
          title: Full Name
          type: string
          nullable: true
        is_active:
          type: boolean
          title: Is Active
          default: true
        created_at:
          type: string
          format: date-time
          title: Created At
      type: object
      required:
      - id
      - email
      - role
      - created_at
      title: UserResponse
      description: "Schema for user data in API responses.\n\nThis schema excludes\
        \ sensitive information like passwords.\n\nAttributes:\n    id: User's unique\
        \ identifier\n    email: User's email address\n    role: User's role in the\
        \ system\n    full_name: User's full name\n    is_active: Whether the user\
        \ account is active\n    created_at: Account creation timestamp\n\nExample:\n\
        \    {\n        \"id\": 1,\n        \"email\": \"student@example.com\",\n\
        \        \"role\": \"student\",\n        \"full_name\": \"John Doe\",\n  \
        \      \"is_active\": true,\n        \"created_at\": \"2025-01-15T10:30:00Z\"\
        \n    }"
    UserRole:
      type: string
      enum:
      - student
      - ta
      - instructor
      - admin
      title: UserRole
      description: User role enumeration for role-based access control.
    UserUpdate:
      properties:
        full_name:
          title: Full Name
          type: string
          maxLength: 100
          minLength: 2
          nullable: true
        email:
          title: Email
          type: string
          format: email
          nullable: true
        current_password:
          title: Current Password
          description: Required when changing password
          type: string
          nullable: true
        new_password:
          title: New Password
          description: New password
          type: string
          maxLength: 100
          minLength: 8
          nullable: true
      type: object
      title: UserUpdate
      description: "Schema for updating user information.\n\nAll fields are optional\
        \ - only provided fields will be updated.\n\nAttributes:\n    full_name: Updated\
        \ full name\n    email: Updated email address\n    current_password: Current\
        \ password (required if changing password)\n    new_password: New password\n\
        \nExample:\n    {\n        \"full_name\": \"Jane Doe\",\n        \"email\"\
        : \"newemail@example.com\"\n    }"
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
    app__schemas__course_schema__UserSimpleResponse:
      properties:
        id:
          type: integer
          title: Id
        email:
          type: string
          title: Email
      type: object
      required:
      - id
      - email
      title: UserSimpleResponse
      description: A simplified user schema for nested responses.
    app__schemas__tag_schema__UserSimpleResponse:
      properties:
        id:
          type: integer
          title: Id
        email:
          type: string
          title: Email
      type: object
      required:
      - id
      - email
      title: UserSimpleResponse
      description: A simplified user schema for nested responses.
    app__schemas__user_schema__UserSimpleResponse:
      properties:
        id:
          type: integer
          title: Id
        email:
          type: string
          format: email
          title: Email
        full_name:
          title: Full Name
          type: string
          nullable: true
      type: object
      required:
      - id
      - email
      title: UserSimpleResponse
      description: "A simplified user schema for nested responses.\n\nThis schema\
        \ is useful for embedding creator/user information within\nother API responses\
        \ without exposing sensitive details.\n\nAttributes:\n    id: User's unique\
        \ identifier\n    email: User's email address\n    full_name: User's full\
        \ name"
  securitySchemes:
    HTTPBearer:
      type: http
      scheme: bearer
